import{U as W,V as G,W as Y,J as U,K as L,X as j,_ as J,Y as Q,r as y,o as X,c as Z,b as e,d as o,w as r,T,F as tt,f as c}from"./index-_YCGk4ob.js";import{r as et,a as st,b as nt,c as it}from"./selector-engine-TSioY3vt.js";import{s as lt}from"./sweetalert2.all-KFTXVkhv.js";var S={exports:{}};/*!
  * Bootstrap collapse.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(v,_){(function(k,h){v.exports=h(et(),st(),nt(),it())})(W,function(k,h,a,i){const l="collapse",d=".bs.collapse",N=".data-api",I=`show${d}`,$=`shown${d}`,O=`hide${d}`,V=`hidden${d}`,M=`click${d}${N}`,C="show",p="collapse",A="collapsing",P="collapsed",F=`:scope .${p} .${p}`,H="collapse-horizontal",R="width",z="height",B=".collapse.show, .collapse.collapsing",E='[data-bs-toggle="collapse"]',q={parent:null,toggle:!0},K={parent:"(null|element)",toggle:"boolean"};class g extends k{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const s=a.find(E);for(const u of s){const f=a.getSelectorFromElement(u),w=a.find(f).filter(m=>m===this._element);f!==null&&w.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return q}static get DefaultType(){return K}static get NAME(){return l}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(B).filter(m=>m!==this._element).map(m=>g.getOrCreateInstance(m,{toggle:!1}))),t.length&&t[0]._isTransitioning||h.trigger(this._element,I).defaultPrevented)return;for(const m of t)m.hide();const s=this._getDimension();this._element.classList.remove(p),this._element.classList.add(A),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(A),this._element.classList.add(p,C),this._element.style[s]="",h.trigger(this._element,$)},w=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[s]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||h.trigger(this._element,O).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,i.reflow(this._element),this._element.classList.add(A),this._element.classList.remove(p,C);for(const u of this._triggerArray){const f=a.getElementFromSelector(u);f&&!this._isShown(f)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(A),this._element.classList.add(p),h.trigger(this._element,V)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(C)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=i.getElement(t.parent),t}_getDimension(){return this._element.classList.contains(H)?R:z}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(E);for(const n of t){const s=a.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(t){const n=a.find(F,this._config.parent);return a.find(t,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const s of t)s.classList.toggle(P,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const s=g.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}return h.on(document,M,E,function(x){(x.target.tagName==="A"||x.delegateTarget&&x.delegateTarget.tagName==="A")&&x.preventDefault();for(const t of a.getMultipleElementsFromSelector(this))g.getOrCreateInstance(t,{toggle:!1}).toggle()}),i.defineJQueryPlugin(g),g})})(S);var ot=S.exports;const at=G(ot);var rt={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ct=Y.useLoading(),D=U("adminLogin",{actions:{checkLogin(){var a;const v=ct.show(),{VITE_API:_}=rt,k=`${_}/api/user/check`,h=(a=document.cookie.split("; ").find(i=>i.startsWith("user=")))==null?void 0:a.split("=")[1];L.defaults.headers.common.Authorization=h,L.post(k).then(function(i){console.log("已驗證登入")}).catch(i=>{lt.fire({icon:"error",text:i.response.data.message}).then(l=>{j.push("/userlogin")})}).finally(()=>{v.hide()})}}}),dt=D(),ht={data(){return{navCollapse:null}},methods:{logout(){document.cookie="user=;expires=;",this.$router.push("/home")},toggleNavCollapse(){this.navCollapse.toggle()}},computed:{...Q(D)},watch:{$route(){this.navCollapse.hide()}},mounted(){this.navCollapse=new at(this.$refs.navCollapse,{toggle:!1})},created(){dt.checkLogin()}},_t={class:"d-flex d-lg-none flex-column sticky-top bg-dark p-2"},ut={class:"d-flex justify-content-between align-items-center"},mt=e("h1",{class:"fs-4 text-white"},"Dessert Time",-1),pt=e("i",{class:"bi bi-list text-white"},null,-1),gt=[pt],ft={class:"collapse",id:"collapseAdminMenu",ref:"navCollapse"},kt={class:"navbar-nav text-center pt-3"},vt=e("hr",{style:{border:"1px solid white"}},null,-1),At={class:"navbar-nav text-center pb-3"},xt={class:"container-fluid"},Ct={class:"row"},Et={class:"position-sticky top-0 d-none d-lg-flex flex-column col-lg-2 py-3 px-0 text-white bg-dark vh-100"},wt=e("h2",{class:"px-3 mb-3 mb-md-0 me-md-auto fs-4"},"Dessert Time",-1),bt=e("hr",null,null,-1),Lt={class:"nav flex-column mb-auto"},yt=e("hr",null,null,-1),Tt={class:"d-flex flex-column"},St={class:"col col-lg-10 p-3"};function Dt(v,_,k,h,a,i){const l=y("router-link"),b=y("router-view");return X(),Z(tt,null,[e("nav",_t,[e("div",ut,[mt,e("button",{type:"button",class:"btn border border-white",onClick:_[0]||(_[0]=(...d)=>i.toggleNavCollapse&&i.toggleNavCollapse(...d))},gt)]),e("div",ft,[e("ul",kt,[e("li",null,[o(l,{to:"/admin/dashboard",class:"d-block py-3 theme-dark-navlink text-white"},{default:r(()=>[c("Home")]),_:1})]),e("li",null,[o(l,{to:"/admin/products",class:"d-block py-3 theme-dark-navlink text-white"},{default:r(()=>[c("產品管理")]),_:1})]),e("li",null,[o(l,{to:"/admin/orders",class:"d-block py-3 theme-dark-navlink text-white"},{default:r(()=>[c("訂單管理")]),_:1})]),e("li",null,[o(l,{to:"/admin/coupons",class:"d-block py-3 theme-dark-navlink text-white"},{default:r(()=>[c("優惠券管理")]),_:1})]),e("li",null,[o(l,{to:"/admin/articles",class:"d-block py-3 theme-dark-navlink text-white"},{default:r(()=>[c("文章管理")]),_:1})])]),vt,e("div",At,[o(l,{to:"/home",class:"d-block py-3 text-white theme-dark-navlink"},{default:r(()=>[c("回前台")]),_:1}),e("a",{href:"#",onClick:_[1]||(_[1]=T((...d)=>i.logout&&i.logout(...d),["prevent"])),class:"d-block py-3 text-white theme-dark-navlink"},"登出")])],512)]),e("div",xt,[e("div",Ct,[e("div",Et,[wt,bt,e("ul",Lt,[e("li",null,[o(l,{to:"/admin/dashboard",class:"d-block px-3 py-3 theme-dark-navlink text-white"},{default:r(()=>[c("Home")]),_:1})]),e("li",null,[o(l,{to:"/admin/products",class:"d-block px-3 py-3 theme-dark-navlink text-white"},{default:r(()=>[c("產品管理")]),_:1})]),e("li",null,[o(l,{to:"/admin/orders",class:"d-block px-3 py-3 theme-dark-navlink text-white"},{default:r(()=>[c("訂單管理")]),_:1})]),e("li",null,[o(l,{to:"/admin/coupons",class:"d-block px-3 py-3 theme-dark-navlink text-white"},{default:r(()=>[c("優惠券管理")]),_:1})]),e("li",null,[o(l,{to:"/admin/articles",class:"d-block px-3 py-3 theme-dark-navlink text-white"},{default:r(()=>[c("文章管理")]),_:1})])]),yt,e("div",Tt,[o(l,{to:"/home",class:"d-block px-3 py-3 theme-dark-navlink text-white"},{default:r(()=>[c("回前台")]),_:1}),e("a",{href:"#",onClick:_[2]||(_[2]=T((...d)=>i.logout&&i.logout(...d),["prevent"])),class:"d-block px-3 py-3 theme-dark-navlink text-white"},"登出")])]),e("div",St,[o(b)])])])],64)}const Ot=J(ht,[["render",Dt]]);export{Ot as default};
